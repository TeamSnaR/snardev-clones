<h1>Personal monthly budget</h1>

<div>
  <div>
    <div>Projected income: {{ projectedIncome() | currency }}</div>
    <div>Actual income: {{ actualIncome() | currency }}</div>
    <div>Difference: {{ differenceIncome() | currency }}</div>
  </div>
  <div>
    <div>Projected expenses: {{ projectedExpenses() | currency }}</div>
    <div>Actual expenses: {{ actualExpenses() | currency }}</div>
    <div>Difference: {{ differenceExpenses() | currency }}</div>
  </div>
  <div>
    <div>Projected balance: {{ projectedBalance() | currency }}</div>
    <div>Actual balance: {{ actualBalance() | currency }}</div>
    <div>Actual-Projected: {{ actualProjectedBalance() | currency }}</div>
  </div>
  <div>
    <h2>Expenses</h2>
    <table>
      <thead>
        <tr>
          <th>Category</th>
          <th>Projected</th>
          <th>Actual</th>
          <th>Difference</th>
          <th></th>
        </tr>
      </thead>
      <tbody>
        @for(expense of expenses(); track expense.id) {
        <tr
          class="hover:bg-slate-300 cursor-pointer"
          (click)="editExpense(expense)"
        >
          <td>{{ expense.category }}</td>
          <td>{{ expense.projected | currency }}</td>
          <td>{{ expense.actual | currency }}</td>
          <td>{{ expense.difference | currency }}</td>
          <td>
            <button type="button" (click)="deleteExpense(expense.id)">
              <svg
                xmlns="http://www.w3.org/2000/svg"
                fill="none"
                viewBox="0 0 24 24"
                stroke-width="1.5"
                stroke="currentColor"
                class="w-6 h-6"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  d="M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"
                />
              </svg>
            </button>
          </td>
        </tr>
        } @empty {
        <tr>
          <td colspan="4">No expenses</td>
        </tr>
        }
      </tbody>
    </table>

    <button type="button" (click)="addExpense()">Add expense</button>
  </div>
  <div>
    <h2>Income</h2>
    <table>
      <thead>
        <tr>
          <th>Category</th>
          <th>Projected</th>
          <th>Actual</th>
          <th>Difference</th>
          <th></th>
        </tr>
      </thead>
      <tbody>
        @for (income of incomes(); track income.id) {
        <tr
          class="hover:bg-slate-300 cursor-pointer"
          (click)="editIncome(income)"
        >
          <td>{{ income.category }}</td>
          <td>{{ income.projected | currency }}</td>
          <td>{{ income.actual | currency }}</td>
          <td>{{ income.difference | currency }}</td>
          <td>
            <button type="button" (click)="deleteIncome(income.id)">
              <svg
                xmlns="http://www.w3.org/2000/svg"
                fill="none"
                viewBox="0 0 24 24"
                stroke-width="1.5"
                stroke="currentColor"
                class="w-6 h-6"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  d="M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"
                />
              </svg>
            </button>
          </td>
        </tr>
        } @empty {
        <tr>
          <td colspan="4">No income</td>
        </tr>
        }
      </tbody>
    </table>
    <button type="button" (click)="addIncome()">Add income</button>
  </div>
</div>

<router-outlet></router-outlet>
